:root {
  --primary:#ff6b35;
  --secondary:#f7931e;
  --accent:#fdc830;
  --dark:#1a1a2e;
  --light:#f8f9fa;
  --success:#06d6a0;
  --error:#ef476f;
  --card-bg:#ffffff;
  --shadow: rgba(0,0,0,.15);
  --gradient: linear-gradient(135deg,var(--primary) 0%,var(--secondary) 50%,var(--accent) 100%);
}

*{box-sizing:border-box;margin:0;padding:0}

body{
  font-family:"Lexend",system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
  background:var(--dark);
  color:var(--light);
  min-height:100vh;
  overflow-x:hidden;
  position:relative;
}

body::before{
  content:"";
  position:fixed;inset:0;
  background:
    radial-gradient(circle at 20% 50%, rgba(255,107,53,.10) 0%, transparent 50%),
    radial-gradient(circle at 80% 80%, rgba(247,147,30,.10) 0%, transparent 50%),
    radial-gradient(circle at 40% 20%, rgba(253,200,48,.06) 0%, transparent 50%);
  pointer-events:none;
  z-index:0;
}

.container{max-width:1400px;margin:0 auto;padding:1.25rem;position:relative;z-index:1;min-height:100vh;display:flex;flex-direction:column}

header{text-align:center;padding:2rem 0 1.25rem}
h1{
  font-family:"Playfair Display",serif;
  font-size:3.4rem;
  font-weight:900;
  background:var(--gradient);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
  letter-spacing:-2px;
  margin-bottom:.35rem;
}
.subtitle{opacity:.75;font-weight:300}

/* Card layout */
.card{
  background:rgba(255,255,255,.05);
  border:1px solid rgba(255,255,255,.10);
  border-radius:20px;
  backdrop-filter: blur(18px);
  box-shadow: 0 10px 30px rgba(0,0,0,.10);
}
.card-pad{padding:1.5rem}

/* Buttons */
button{
  font-family:"Lexend",sans-serif;
  border:none;
  cursor:pointer;
  border-radius:12px;
  padding:.9rem 1.2rem;
  font-weight:700;
  text-align:left;
  letter-spacing:.5px;
  text-transform:uppercase;
  transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
  position:relative;
  overflow:hidden;
  user-select:none;
}
button:active{transform:translateY(1px)}

.btn-primary{
  background:var(--gradient);
  color:#fff;
  box-shadow:0 10px 30px rgba(255,107,53,.28);
}
.btn-primary:hover{transform:translateY(-2px);box-shadow:0 14px 40px rgba(255,107,53,.38)}

.btn-secondary{
  background: rgba(255,255,255,.10);
  color: var(--light);
  border:2px solid rgba(255,255,255,.16);
}
.btn-secondary:hover{background: rgba(255,255,255,.16); transform: translateY(-1px)}

.btn-success{
  background: rgba(6,214,160,.18);
  color: var(--success);
  border:2px solid rgba(6,214,160,.7);
}
.btn-success:hover{background: rgba(6,214,160,.28); transform: translateY(-1px)}

/* REQUIRED: btn-delete (đỏ) */
.btn-delete{
  background: rgba(239,71,111,.18);
  color: var(--error);
  border:2px solid rgba(239,71,111,.85);
}
.btn-delete:hover{background: rgba(239,71,111,.28); transform: translateY(-1px)}

/* Layout */
.top-actions{display:flex;gap:.8rem;flex-wrap:wrap;justify-content:center;margin:1rem 0 1.5rem}
.main{display:grid;grid-template-columns:360px 1fr;gap:1.25rem;align-items:stretch;flex:1;min-height:0}
@media (max-width: 1024px){ .main{grid-template-columns:1fr} }

/* Sidebar list */
.sidebar{position:sticky;top:1rem}
@media (max-width:1024px){ .sidebar{position:static} }
.sidebar-title{display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem}
.sidebar-title h2{font-size:1.2rem;color:var(--accent)}
.q-list-tools{display:flex;flex-direction:column;gap:.6rem;margin-bottom:.85rem}
.q-selectall{display:flex;align-items:center;gap:.55rem;font-size:.9rem;opacity:.9;user-select:none}
.q-selectall input{width:18px;height:18px;accent-color: var(--primary)}
.q-list{display:flex;flex-direction:column;gap:.7rem;max-height:65vh;overflow:auto;padding-right:.4rem}
.q-item{
  padding:.85rem;
  border-radius:14px;
  border:2px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  display:flex;gap:.6rem;align-items:center;
  cursor:pointer;
  transition: background .15s ease, transform .15s ease, border-color .15s ease;
}
.q-item:hover{transform: translateX(4px); background: rgba(255,255,255,.08)}
.q-item.active{border-color: var(--primary); background: rgba(255,107,53,.16)}
.q-meta{min-width:0;flex:1}
.q-type{font-size:.72rem;color:var(--accent);font-weight:700;text-transform:uppercase;opacity:.95}
.q-text{display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;font-size:.92rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.q-actions{display:flex;gap:.4rem;align-items:center}

.icon-btn{
  width:34px;height:34px;border-radius:12px;
  display:inline-flex;align-items:center;justify-content:center;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.08);
  color: var(--light);
  font-size:1rem;
  padding:0;
}
.icon-btn:hover{transform: scale(1.04)}
.icon-btn.danger:hover{background: rgba(239,71,111,.25); border-color: rgba(239,71,111,.55)}

.q-export-toggle{display:flex;align-items:center;gap:.35rem;font-size:.8rem;opacity:.85;user-select:none}
.q-export-toggle input{width:16px;height:16px;accent-color: var(--primary)}

.q-check{display:flex;align-items:center;gap:.6rem;min-width:0;flex:1}
.q-check > input{width:18px;height:18px;accent-color: var(--primary);flex:0 0 auto}

hr.soft{border:none;border-top:1px solid rgba(255,255,255,.10);margin:1rem 0}

.codebox{
  white-space:pre-wrap;
  font-size:.82rem;
  line-height:1.35;
  padding:.75rem .9rem;
  border-radius:14px;
  border:2px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.22);
  max-height:260px;
  overflow:auto;
}

/* Form */
.editor-header{display:flex;align-items:center;justify-content:space-between;gap:1rem;margin-bottom:1rem;flex-wrap:wrap}
.editor-title{font-size:1.5rem;color:var(--accent);font-weight:800}
.section-title{font-size:1rem;color:var(--secondary);font-weight:800;margin:1.2rem 0 .75rem;display:flex;gap:.5rem;align-items:center}

label{display:block;font-size:.82rem;font-weight:800;color:var(--accent);letter-spacing:.8px;text-transform:uppercase;margin-bottom:.45rem}

input[type="text"], input[type="url"], input[type="number"], select, textarea{
  width:100%;
  padding:.75rem .95rem;
  border-radius:14px;
  border:2px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.05);
  color: var(--light);
  font-family:"Lexend",sans-serif;
  outline:none;
  transition: border-color .15s ease, background .15s ease;
}
textarea{min-height:96px;resize:vertical}
input:focus, select:focus, textarea:focus{border-color: var(--primary); background: rgba(255,255,255,.08)}
select option{background: var(--dark)}

.row{display:grid;grid-template-columns: 1fr auto;gap:.75rem;align-items:start}
.hint{opacity:.7;font-size:.9rem;line-height:1.5}

.dyn-list{display:flex;flex-direction:column;gap:.75rem}
.dyn-item{
  display:grid;
  grid-template-columns: 1fr auto;
  gap:.75rem;
  align-items:center;
  padding:.75rem;
  border-radius:14px;
  background: rgba(255,255,255,.03);
  border: 1px solid rgba(255,255,255,.10);
}
.dyn-item .left{min-width:0}
.inline{display:flex;gap:.6rem;align-items:center;flex-wrap:wrap}

.checkbox{display:flex;align-items:center;gap:.5rem;user-select:none}
.checkbox input{width:18px;height:18px;accent-color: var(--primary)}

.trash{
  width:40px;height:40px;border-radius:14px;
  background: rgba(239,71,111,.15);
  border:1px solid rgba(239,71,111,.35);
  color: var(--error);
  font-size:1.05rem;
  padding:0;
  display:flex;align-items:center;justify-content:center;
}
.trash:hover{background: rgba(239,71,111,.25)}

/* REQUIRED: thumbnail-preview */
.thumbnail-preview{
  margin-top:.6rem;
  border-radius:14px;
  border: 1px solid rgba(255,255,255,.12);
  max-width:240px;
  overflow:hidden;
  background: rgba(255,255,255,.04);
}
.thumbnail-preview img{display:block;width:100%;height:auto}
.thumb-actions{display:flex;gap:.5rem;align-items:center;padding:.55rem}
.thumb-actions .btn-delete{padding:.55rem .8rem;border-radius:12px;font-size:.78rem}

/* Media picker */
.media-tools{display:flex;gap:.5rem;align-items:center;justify-content:flex-end}
.media-btn{
  padding:.6rem .8rem;
  border-radius:12px;
  background: rgba(255,255,255,.10);
  border:1px solid rgba(255,255,255,.14);
  color: var(--light);
  font-weight:800;
  text-transform:none;
  letter-spacing:0;
  font-size:.85rem;
}
.media-btn:hover{background: rgba(255,255,255,.16)}

/* Toast */
#toast{
  position:fixed;
  left:50%;
  bottom:22px;
  transform: translateX(-50%);
  min-width:min(560px, calc(100vw - 24px));
  padding:.9rem 1rem;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.16);
  background: rgba(10,10,20,.78);
  backdrop-filter: blur(14px);
  color: var(--light);
  display:none;
  z-index:9999;
  box-shadow: 0 18px 50px rgba(0,0,0,.35);
}
#toast.show{display:block; animation: toastIn .18s ease-out}
#toast .t-title{font-weight:900;color:var(--accent);margin-bottom:.2rem}
#toast .t-msg{opacity:.9}
@keyframes toastIn {
  from{transform: translateX(-50%) translateY(10px); opacity:0}
  to{transform: translateX(-50%) translateY(0); opacity:1}
}

/* Hotspot (SVG overlay) */
.hotspot-wrap{margin-top:1rem}
.hotspot-toolbar{display:flex;gap:.6rem;flex-wrap:wrap;align-items:center;margin:.6rem 0 0}

.pill{
  padding:.55rem .85rem;border-radius:999px;
  background: rgba(255,255,255,.10);
  border:1px solid rgba(255,255,255,.14);
  color: var(--light);
  font-weight:800;
  text-transform:none;
  letter-spacing:0;
  font-size:.85rem;
}
.pill.active{border-color: rgba(255,107,53,.65); background: rgba(255,107,53,.18)}

.hotspot-stage{
  position:relative;
  border-radius:18px;
  overflow:hidden;
  background: rgba(255,255,255,.04);
  border:1px solid rgba(255,255,255,.12);
}
.hotspot-stage img{width:100%;display:block;max-height:520px;object-fit:contain;background:#0000}

/* REQUIRED: svg-container (cho Hotspot) */
.svg-container{
  position:absolute; inset:0;
  width:100%; height:100%;
  pointer-events:auto;
}

.hotspot-hint{margin-top:.5rem;opacity:.8;font-size:.9rem;line-height:1.5}

.region-list{margin-top:1rem}
.region-row{
  display:flex;gap:.75rem;align-items:center;
  padding:.7rem;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  margin-top:.6rem;
}
.region-badge{
  width:34px;height:34px;border-radius:12px;
  background: var(--gradient);
  display:flex;align-items:center;justify-content:center;
  font-weight:900;
}
.region-row input[type="text"]{padding:.6rem .75rem;border-radius:12px}
.region-row .checkbox{margin-left:auto}
.region-row .trash{margin-left:.25rem}

/* Scrollbar */
::-webkit-scrollbar{width:10px}
::-webkit-scrollbar-track{background: rgba(255,255,255,.05)}
::-webkit-scrollbar-thumb{background: var(--gradient); border-radius:6px}


/* ===== Sidebar Tabs ===== */
.sidebar-tabs{
  display:flex;
  flex-direction:column;
  gap:.6rem;
  margin-bottom:1rem;
}

.tab-btn{
  flex:0 0 auto;
  padding:.7rem;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.06);
  color:var(--light);
  font-weight:700;
  text-align:left;
  cursor:pointer;
  transition:.15s;
}

.tab-btn:hover{
  background:rgba(255,255,255,.12);
}

.tab-btn.active{
  background:var(--gradient);
  color:#fff;
  border:none;
}

.tab-content{
  display:none;
}

.tab-content.active{
  display:block;
}


/* Make right panel fill viewport height */
.main > section.card{display:flex;flex-direction:column;min-height:0}
.tab-content{display:none}
.tab-content.active{display:flex;flex-direction:column;flex:1;min-height:0}

.q-list{flex:1;min-height:0;overflow:auto}
.q-pagination{display:flex;align-items:center;justify-content:space-between;gap:.5rem;margin-top:.75rem;flex-wrap:wrap}
.q-pagination .pager{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}
.q-pagination .page-btn{padding:.55rem .85rem;border-radius:10px;font-weight:800;background:rgba(255,255,255,.10);color:var(--light);border:1px solid rgba(255,255,255,.14)}
.q-pagination .page-btn:hover{background:rgba(255,255,255,.14)}
.q-pagination .page-btn[disabled]{opacity:.45;cursor:not-allowed}
.q-pagination .page-info{opacity:.8;font-weight:600}


/* ===== Sort controls (Danh sách câu hỏi) ===== */
.q-sort select{
  width:100%;
  padding:.65rem .85rem;
  border-radius:14px;
  border:2px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.05);
  color: var(--light);
  font-family:"Lexend",sans-serif;
  outline:none;
}
.q-sort select:focus{border-color: var(--primary); background: rgba(255,255,255,.08);}

/* ===== Question Table ===== */
.q-table{
  width:100%;
  border-collapse:collapse;
  font-size:.92rem;
}
.q-table thead th{
  position:sticky;
  top:0;
  z-index:2;
  background: rgba(20,20,40,.92);
  backdrop-filter: blur(10px);
  border-bottom:1px solid rgba(255,255,255,.12);
  padding:.7rem .75rem;
  text-align:left;
}
.q-table td{
  padding:.7rem .75rem;
  border-bottom:1px solid rgba(255,255,255,.08);
  vertical-align:middle;
}
.q-table tbody tr{cursor:pointer; transition: background .15s ease;}
.q-table tbody tr:hover{background: rgba(255,255,255,.06);}
.q-table tbody tr.active{background: rgba(255,107,53,.18);}
.q-table input[type="checkbox"]{width:18px;height:18px;accent-color: var(--primary);}

.q-type-cell{
  font-size:.72rem;
  font-weight:800;
  text-transform:uppercase;
  color: var(--accent);
  letter-spacing:.4px;
  white-space:nowrap;
}

.q-text-cell{
  max-width: 0; /* allow ellipsis with table layout */
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}


/* Selected count */
.q-selected-count{margin-top:.2rem;opacity:.85;font-weight:700}
